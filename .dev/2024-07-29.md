# 


There's

--> operator
- things that just do a thing, e.g. "draw"

these are hard coded

--> primitive (because we want to  build a DSL full of these)
- things that do semantic things "fillRegion"

these are "just functions" but they are generated

--> computation (a bundle of transformations? a branching transformation?)
- things that do multiple semantic things

these are implemented by agents inside a shell

---

So the parameters to operators are generated. Which means they can fail.

Maybe a transformation is just a sequence of operators?


---

So the idea is to use an LLM and operators to implement a transformation.


----

overall, the process for a runtime is:

boot

while (notError && notFinished) {
    execute an operator

}


----

tool -> wraps an operator


----

Reasons for a "createFoo"

- reduce LoC
- guarantee side effects are run
- parse input variables
- symmetric (everything has a createX)

Reasons for a "parseFoo"

- narrow a type


# conventions

__/types__

ALL EXPORTED TYPES (I THINK)

__/lib__

not super important but i'm working with the following conventions


- getFoo(target, args, opts?)

means the data we're working with is already part of some known data structure

we must return a Foo (not necessarily a type, but Foo has to mean what we're
returning)

- setBar(target, args, opts)

means target is already something we're working with and args are the data to
add to it

we must be setting a bar on target

- readFoo(target, args, opts)

is just like getFoo but we're crossing the process boundary

- writeFoo(target, args, opts)

is just like setFoo but crossing the process boundary

- validateFoo(args)

means args is a foo and we might be returning the foo or nothing

- createFoo(args)

means that we have some data that is becoming structured

__/transactions__

is basically everything that doesn't fit in /lib

It's like the main functions, the complex functions, the functions that might
have to do a bunch of different stuff.

The big distinction between code in /lib and code in /actions is that /lib
should have a ton of validation/parsing/boilerplate-ish code. functions in /lib
should have basically no side effects (other than the single obvious side effect
in every setFoo function). functions in /actions should mostly validate
transactional stuff


